<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Selamat Ulang Tahun â€” Ramdan</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1: #1e3c72;
      --bg2: #2a5298;
      --accent: #ff6b6b;
      --card-bg: rgba(255,255,255,0.06);
      --glass: rgba(255,255,255,0.06);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: radial-gradient(1200px 600px at 10% 20%, rgba(255,107,107,0.08), transparent), linear-gradient(135deg,var(--bg1),var(--bg2));
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      color:#fff;
    }

    .card{
      width:min(920px,92vw);
      max-width:920px;
      background:var(--card-bg);
      backdrop-filter: blur(10px) saturate(1.05);
      border-radius:20px;
      padding:36px;
      box-shadow: 0 12px 40px rgba(0,0,0,0.26);
      text-align:center;
      position:relative;
      overflow:visible;
    }

    h1{
      margin:8px 0 6px 0;
      font-size:clamp(28px,6vw,44px);
      font-weight:800;
      letter-spacing:0.6px;
      color: #fff;
      text-transform:lowercase;
      text-shadow: 0 8px 30px rgba(0,0,0,0.35);
    }

    .subtitle{
      margin:0 0 18px 0;
      font-size:16px;
      opacity:0.92;
    }

    .emoji-big{font-size:72px; display:inline-block; transform-origin:center; animation:beat 1.1s ease-in-out infinite;}
    @keyframes beat{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}

    .stage{position:relative; height:220px; margin-top:8px}

    /* floating hearts */
    .float-layer{position:absolute; inset:0; pointer-events:none; overflow:hidden}
    .heart{position:absolute; font-size:20px; opacity:0; transform:translateY(0); animation:floatUp linear forwards;}
    @keyframes floatUp{0%{opacity:1; transform:translateY(0) scale(0.9)}70%{opacity:0.9}100%{opacity:0; transform:translateY(-120vh) rotate(25deg) scale(1.1)}}

    /* confetti piece */
    .confetti{position:absolute; width:10px; height:16px; opacity:0; transform-origin:center; animation:confettiFall linear forwards; border-radius:2px}
    @keyframes confettiFall{0%{opacity:1; transform:translateY(-10vh) rotate(0) scale(1)}100%{opacity:1; transform:translateY(120vh) rotate(720deg) scale(1)}}

    .controls{margin-top:14px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap}
    .btn{background:rgba(255,255,255,0.08); border:none; padding:10px 14px; border-radius:999px; color:#fff; cursor:pointer; font-weight:700}
    .btn:active{transform:translateY(1px)}

    .stop-slot{display:flex; gap:8px; align-items:center}
    .stop-slot input[type=number]{width:86px; padding:8px 10px; border-radius:10px; border:none; background:rgba(255,255,255,0.06); color:#fff; font-weight:600}

    footer.small{margin-top:12px; font-size:12px; opacity:0.85}
    .signature{margin-top:8px; font-weight:700; opacity:0.95}

    @media (max-width:560px){
      .card{padding:22px}
      .emoji-big{font-size:48px}
      .stage{height:160px}
      .stop-slot{flex-direction:column}
      .stop-slot input[type=number]{width:100%}
    }
  </style>
</head>
<body>
  <div class="card" role="main">
    <div class="stage" aria-hidden="true">
      <div class="float-layer" id="floatLayer"></div>
      <div class="float-layer" id="confettiLayer"></div>
    </div>

    <div style="position:relative; z-index:3">
      <div class="emoji-big">ðŸŽ‰</div>
      <h1>selamat ulang tahun ramdan</h1>
      <p class="subtitle">Semoga sehat, sukses, dan bahagia selalu â€” hari ini dan seterusnya âœ¨</p>

      <div class="controls">
        <button class="btn" id="burstBtn">Keluarkan confetti</button>
        <button class="btn" id="heartsBtn">Keluarkan hati</button>
        <button class="btn" id="autoBtn">Auto (steady)</button>
        <button class="btn" id="stopBtn">Stop</button>

        <div class="stop-slot" style="margin-left:6px">
          <label for="stopSec" style="font-size:13px; opacity:0.95">Stop setelah</label>
          <input id="stopSec" type="number" min="1" step="1" value="10" aria-label="Stop setelah detik">
          <button class="btn" id="stopAfterBtn">Jadwalkan Stop</button>
        </div>
      </div>

      <footer class="small">Klik tombol â€” atau gunakan "Stop setelah" untuk menghentikan otomatis setelah beberapa detik.</footer>
      <div class="signature">dari Gantha</div>
    </div>
  </div>

  <script>
    const floatLayer = document.getElementById('floatLayer');
    const confettiLayer = document.getElementById('confettiLayer');
    const stopAfterBtn = document.getElementById('stopAfterBtn');
    const stopSecInput = document.getElementById('stopSec');
    const stopBtn = document.getElementById('stopBtn');

    let autoInterval = null;
    let scheduledStop = null;

    function createHeart(xPercent, size = null, delay = 0){
      const el = document.createElement('div');
      el.className = 'heart';
      el.textContent = 'â¤ï¸';
      const left = xPercent + (Math.random()*8 - 4);
      el.style.left = left + '%';
      const s = size || (14 + Math.random()*28);
      el.style.fontSize = s + 'px';
      el.style.animationDuration = (4 + Math.random()*2.2) + 's';
      el.style.animationDelay = (delay + Math.random()*0.6) + 's';
      el.style.transform = `rotate(${Math.random()*60-30}deg)`;
      floatLayer.appendChild(el);
      setTimeout(()=>el.remove(), 7000);
    }

    function createConfetti(xPercent){
      const el = document.createElement('div');
      el.className = 'confetti';
      const sizeW = 6 + Math.random()*12;
      const sizeH = 10 + Math.random()*20;
      el.style.width = sizeW + 'px';
      el.style.height = sizeH + 'px';
      el.style.left = (xPercent + (Math.random()*8 - 4)) + '%';
      el.style.background = `hsl(${Math.floor(Math.random()*360)} 80% 60%)`;
      el.style.animationDuration = (3 + Math.random()*3) + 's';
      confettiLayer.appendChild(el);
      setTimeout(()=>el.remove(), 8000);
    }

    function burstConfetti(count = 30){
      for(let i=0;i<count;i++){
        createConfetti(20 + Math.random()*60);
      }
    }

    function burstHearts(count = 18){
      for(let i=0;i<count;i++){
        createHeart(20 + Math.random()*60, 12 + Math.random()*36, Math.random()*0.2);
      }
    }

    function startAuto(){
      if(autoInterval) return;
      autoInterval = setInterval(()=>{
        if(Math.random() < 0.5) burstHearts(6); else burstConfetti(12);
      }, 900);
    }
    function stopAuto(){ if(autoInterval){ clearInterval(autoInterval); autoInterval = null; }}

    document.getElementById('burstBtn').addEventListener('click', ()=>burstConfetti(40));
    document.getElementById('heartsBtn').addEventListener('click', ()=>burstHearts(26));
    document.getElementById('autoBtn').addEventListener('click', ()=>startAuto());
    document.getElementById('stopBtn').addEventListener('click', ()=>{ stopAuto(); clearScheduledStop(); });

    // schedule stop (stop slot)
    stopAfterBtn.addEventListener('click', ()=>{
      const secs = parseInt(stopSecInput.value,10);
      if(isNaN(secs) || secs <= 0){
        alert('Masukkan angka detik yang valid (mis. 5)');
        return;
      }
      if(scheduledStop){
        // cancel existing
        clearTimeout(scheduledStop);
        scheduledStop = null;
        stopAfterBtn.textContent = 'Jadwalkan Stop';
        stopAfterBtn.style.background = '';
        return;
      }
      // set
      scheduledStop = setTimeout(()=>{
        stopAuto();
        scheduledStop = null;
        stopAfterBtn.textContent = 'Jadwalkan Stop';
        stopAfterBtn.style.background = '';
        // small visual feedback
        alert('Auto dihentikan setelah ' + secs + ' detik.');
      }, secs * 1000);
      stopAfterBtn.textContent = 'Batalkan Stop';
      stopAfterBtn.style.background = 'rgba(255,255,255,0.12)';
    });

    function clearScheduledStop(){
      if(scheduledStop){ clearTimeout(scheduledStop); scheduledStop = null; stopAfterBtn.textContent = 'Jadwalkan Stop'; stopAfterBtn.style.background = ''; }
    }

    // small welcoming burst
    setTimeout(()=>{ burstHearts(10); burstConfetti(18); }, 600);
    // start auto after short delay
    setTimeout(()=>startAuto(), 1600);

    // respect reduced motion
    const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
    if(mq && mq.matches){ stopAuto(); }
  </script>
</body>
</html>